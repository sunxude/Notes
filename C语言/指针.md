指针允许将函数作为参数传递给其他函数，或者在运行时动态选择要调用的函数
#### 指针的基本概念和操作
```C
int *p; //定义一个指向整数的指针变量
int a = 10;
p = &a; //使指针p指向变量a的地址
int *p = &a;
int b = 20;
p = &b; // 改为指向b的地址
printf("%d\n",*p); //解引用（应该是将地址解码提取里边的值）

int *p = (int *)malloc(5 * sizeof(int));//分配5个整数的内存空间
free(p);//释放内存
p = NUll;//避免野指针
```

#### 函数指针的基本概念和用法
1. 函数指针：函数指针是指向函数的指针，它存储了函数的地址。
```C
#include <stdio.h>

int add(int a,int b);

int (*func_ptr)(int,int);

int main()
{
	func_ptr = add;
	int result = func_ptr(3,4);
    printf("Result: %d\n", result);
     return 0;
}
int add(int a,int b)
{
	return a + b;
}
```
2. 函数指针作为参数：函数指针作为参数传递给其他函数是函数指针的一种常见用法。这种用法允许将特定的行为作为参数传递，从而实现更灵活的编程。
```C
#include <stdio.h>
void print_number(int number);
void print_string(char *string)

//函数指针类型定义
typedef void (*print_func)(int);

//函数，接收函数指针作为参数
void process_number(int number,print_func func)
{
	func(number);
}

int main()
{
	process_number(42,print_number);
	process_number(42,print_string);
	return 0;
}

void print_number(int number)
{
	printf("%d\n",number);
}
void print_string(char *string)
{
	printf("%s\n",string);
}
```
3. 函数指针数组：函数指针数组是一组函数指针的集合，它可以用来存储多个具有相同签名的函数地址。这种用法在需要根据条件动态选择函数时非常有用。
```C
#include <stdio.h>
 
// 函数声明
void func_a();
void func_b();
 
int main() {
    // 函数指针数组定义
    void (*func_array[])(void) = {func_a, func_b};
    
    // 根据条件调用不同的函数
    int condition = 1;
    if (condition) {
        func_array[0](); // 调用func_a
    } else {
        func_array[1](); // 调用func_b
    }
    return 0;
}
 
// 函数定义
void func_a() {
    printf("Function A\n");
}
 
void func_b() {
    printf("Function B\n");
}
```
4. 函数指针的高级用法：函数指针的高级用法包括回调函数、函数指针作为返回值、以及与结构体结合使用等。
	**回调函数**：函数指针作为参数传递给一个函数，然后在函数内部被调用。
```C
#include <stdio.h>
 
// 回调函数类型定义
typedef void (*callback)(int);
 
// 函数，接受回调函数作为参数
void perform_action(int value, callback func) {
    func(value);
}
 
int main() {
    // 回调函数
    void print_value(int value) {
        printf("Value: %d\n", value);
    }
    
    // 将回调函数作为参数传递
    perform_action(42, print_value);
    return 0;
}
	``` 

函数指针作为返回值：
```C
#include <stdio.h>

int (*get_func_ptr())(int,int);

int main()
{
	//函数指针作为返回值
	int (*func_ptr)(int,int) = get_func_ptr();
	
	//通过函数指针调用函数
	int result = func_ptr(3,4);
	print("Result: %d\n", result);
	return 0;
}
int (*get_func_ptr())(int, int) {
	 return add; // 返回add函数的地址
 }
  // 函数定义
int add(int a, int b) {
    return a + b;
    
}
```


函数返回多个值可以使用结构体或者是结构体指针，例如：
```C
#includ <stdio.h>

typedef struct{
	int value;
	float resullt;
}ReturnValues;

//使用结构体指针返回多值
ReturnValues *get_values(int input)
{
	ReturnValues *values = malloc(sizeof(ReturnValues));
	values->value = input;
	values->result = (float)input / 2;
	return values;
}
//或者这样
ReturnValues *get_values(void) {
    ReturnValues value1;
    ReturnValues value2;
    ReturnValues *ptr[2];
    value1.value = 10;
    value1.result = (float)10 / 2;
    value2.value = 20;
    value2.result = (float)20 / 2;
    ptr[0] = &value1;
    ptr[1] = &value2;
    return ptr; // 返回指针数组
}
int main()
{
	ReturnValues *result = getvalues(10);
	printf("Value: %d, Result: %.2f\n", result->value, result->result);
	free(result);
	return 0;
}
```
```
